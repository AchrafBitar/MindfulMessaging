:root{--bg-primary: #ffffff;--bg-secondary: #f8f9fa;--bg-tertiary: #f1f3f4;--text-primary: #202124;--text-secondary: #5f6368;--text-tertiary: #80868b;--border-color: #dadce0;--border-hover: #c4c7c5;--shadow-light: rgba(0, 0, 0, .1);--shadow-medium: rgba(0, 0, 0, .15);--accent-primary: #667eea;--accent-secondary: #764ba2;--success-color: #34a853;--warning-color: #fbbc04;--error-color: #ea4335;--gradient-primary: linear-gradient(135deg, #667eea 0%, #764ba2 100%);--gradient-friendly: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);--gradient-casual: linear-gradient(135deg, #fa709a 0%, #fee140 100%)}.dark-mode{--bg-primary: #1a1a1a;--bg-secondary: #2d2d2d;--bg-tertiary: #3c3c3c;--text-primary: #ffffff;--text-secondary: #bdc1c6;--text-tertiary: #9aa0a6;--border-color: #5f6368;--border-hover: #80868b;--shadow-light: rgba(0, 0, 0, .3);--shadow-medium: rgba(0, 0, 0, .4)}*{margin:0;padding:0;box-sizing:border-box}body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;background-color:var(--bg-primary);color:var(--text-primary);transition:background-color .3s ease,color .3s ease;width:30vw;min-width:400px;max-width:800px;height:70vh;min-height:500px;max-height:900px;overflow-x:hidden}.popup-container{width:100%;height:100%;min-height:500px;background:var(--bg-primary);display:flex;flex-direction:column}.popup-header{display:flex;justify-content:space-between;align-items:center;padding:16px 20px;background:var(--gradient-primary);color:#fff;position:sticky;top:0;z-index:10}.popup-header h1{font-size:18px;font-weight:600;margin:0}.theme-toggle{background:#fff3;border:none;border-radius:50%;width:32px;height:32px;display:flex;align-items:center;justify-content:center;font-size:16px;transition:all .3s ease}.theme-toggle:hover{background:#ffffff4d;transform:scale(1.1)}.empty-state{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px 20px;text-align:center}.empty-icon{font-size:48px;margin-bottom:16px}.empty-state h3{font-size:18px;font-weight:600;margin-bottom:8px;color:var(--text-primary)}.empty-state p{font-size:14px;color:var(--text-secondary);margin-bottom:24px;line-height:1.5}.supported-platforms{display:flex;flex-direction:column;align-items:center;gap:12px}.supported-platforms span{font-size:12px;color:var(--text-tertiary);text-transform:uppercase;letter-spacing:.5px}.platform-tags{display:flex;flex-wrap:wrap;gap:8px;justify-content:center}.platform-tag{background:var(--bg-secondary);color:var(--text-secondary);padding:4px 12px;border-radius:12px;font-size:11px;font-weight:500;border:1px solid var(--border-color)}.contexts-list{flex:1;padding:16px;overflow-y:auto;max-height:400px}.context-card{background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:12px;margin-bottom:12px;overflow:hidden;transition:all .3s ease;box-shadow:0 2px 8px var(--shadow-light)}.context-card:hover{box-shadow:0 4px 16px var(--shadow-medium);transform:translateY(-1px)}.context-header{display:flex;justify-content:space-between;align-items:center;padding:16px;transition:background-color .3s ease}.context-header:hover{background:var(--bg-tertiary)}.context-info{flex:1;min-width:0}.context-text{font-size:16px;font-weight:500;color:var(--text-primary);margin-bottom:8px;line-height:1.5;word-wrap:break-word;overflow-wrap:break-word}.context-meta{display:flex;gap:12px;font-size:11px;color:var(--text-tertiary)}.context-source{background:var(--accent-primary);color:#fff;padding:2px 8px;border-radius:8px;font-weight:500}.context-actions{display:flex;gap:8px;align-items:center}.expand-button,.clear-button{background:none;border:none;width:24px;height:24px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:12px;transition:all .3s ease}.expand-button{color:var(--text-secondary)}.expand-button:hover{background:var(--bg-tertiary);color:var(--text-primary)}.clear-button{color:var(--error-color);font-size:16px;font-weight:700}.clear-button:hover{background:var(--error-color);color:#fff}.context-details{border-top:1px solid var(--border-color);background:var(--bg-primary);padding:16px}.insights-section,.replies-section{margin-bottom:20px}.insights-section:last-child,.replies-section:last-child{margin-bottom:0}.insights-section h3,.replies-section h3{font-size:16px;font-weight:600;margin-bottom:12px;color:var(--text-primary)}.insights-grid{display:grid;gap:12px}.insight-card{background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:8px;padding:12px;transition:all .3s ease}.insight-card:hover{border-color:var(--border-hover);box-shadow:0 2px 8px var(--shadow-light)}.insight-card.risk{border-left:4px solid var(--warning-color);background:#fbbc041a}.insight-header{display:flex;align-items:center;gap:8px;margin-bottom:8px}.insight-icon{font-size:16px}.insight-title{font-size:14px;font-weight:600;color:var(--text-primary)}.insight-list{list-style:none;margin:0;padding:0}.insight-list li{font-size:13px;color:var(--text-secondary);padding:4px 0;line-height:1.4;border-bottom:1px solid var(--border-color)}.insight-list li:last-child{border-bottom:none}.people-tags{display:flex;flex-wrap:wrap;gap:6px}.person-tag{background:var(--accent-primary);color:#fff;padding:4px 10px;border-radius:12px;font-size:11px;font-weight:500}.replies-grid{display:grid;gap:12px}.reply-card{background:var(--bg-secondary);border:1px solid var(--border-color);border-left:4px solid var(--accent-primary);border-radius:8px;padding:12px;transition:all .3s ease}.reply-card:hover{border-color:var(--border-hover);box-shadow:0 2px 8px var(--shadow-light)}.reply-content{font-size:13px;color:var(--text-primary);line-height:1.4;margin-bottom:8px}.reply-footer{display:flex;justify-content:space-between;align-items:center}.tone-badge{color:#fff;padding:2px 8px;border-radius:8px;font-size:10px;font-weight:600;text-transform:uppercase;letter-spacing:.5px}.copy-reply-btn{background:var(--accent-primary);color:#fff;border:none;padding:4px 12px;border-radius:6px;font-size:11px;font-weight:500;transition:all .3s ease}.copy-reply-btn:hover{background:var(--accent-secondary);transform:translateY(-1px)}.copy-notification{position:fixed;top:20px;right:20px;background:var(--success-color);color:#fff;padding:8px 16px;border-radius:8px;font-size:12px;font-weight:500;z-index:1000;animation:slideInRight .3s ease}@keyframes slideInRight{0%{transform:translate(100%);opacity:0}to{transform:translate(0);opacity:1}}.contexts-list::-webkit-scrollbar{width:6px}.contexts-list::-webkit-scrollbar-track{background:var(--bg-tertiary);border-radius:3px}.contexts-list::-webkit-scrollbar-thumb{background:var(--border-color);border-radius:3px}.contexts-list::-webkit-scrollbar-thumb:hover{background:var(--border-hover)}@media (max-width: 800px){body{width:90vw;height:80vh;min-width:350px}.popup-container{width:100%}.popup-header{padding:12px 16px}.popup-header h1{font-size:16px}.contexts-list,.context-header,.context-details{padding:12px}}@media (max-width: 500px){body{width:95vw;height:85vh;min-width:300px}}.loading{display:flex;align-items:center;justify-content:center;padding:40px;color:var(--text-secondary)}.loading:after{content:"";width:20px;height:20px;border:2px solid var(--border-color);border-top:2px solid var(--accent-primary);border-radius:50%;animation:spin 1s linear infinite;margin-left:8px}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}button:focus,.context-header:focus{outline:2px solid var(--accent-primary);outline-offset:2px}*{transition:background-color .3s ease,color .3s ease,border-color .3s ease,box-shadow .3s ease,transform .3s ease}
